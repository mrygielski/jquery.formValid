function isset(r){return void 0!==r}!function(u){u.fn.formValid=function(r){var e=u.extend({},u.fn.formValid.defaults,r),d={};return d={
test:function(r,e){var t=r.val()
;return"postcode"==e?!!t.match("^[0-9]{2}-[0-9]{3}$"):"email"==e?/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t):"number"==e?/^-?[\d.]+(?:e-?\d+)?$/.test(t):"letters"==e?/^[a-zA-Z]*$/.test(t):"phone"==e?/^\+?(\d.*){3,}$/.test(t):void 0
},addError:function(r,e){r.addClass("error"),r.find("input,textarea").addClass("error"),
""==e?r.find(".valid-message").hide():r.find(".valid-message").html(e)},removeError:function(r){r.removeClass("error"),
r.find("input,textarea").removeClass("error"),r.find(".valid-message").html("")},_tests:function(r,e,t,s,a,n){var o=a.val();isset(n)||(n=""),
"null"==e&&r&&0==t.errors&&(""==a.val()?(d.addError(a.parent(),s),t.errors++):d.removeError(a.parent())),
""!=n&&0==t.errors&&(o.match(new RegExp(n))?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++)),
"number"==e&&0==t.errors&&(d.test(a,"number")?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++)),
"email"==e&&0==t.errors&&(d.test(a,"email")?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++)),
"letters"==e&&0==t.errors&&(d.test(a,"letters")?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++)),
"postcode"==e&&0==t.errors&&(d.test(a,"postcode")?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++)),
"phone"==e&&0==t.errors&&(d.test(a,"phone")?d.removeError(a.parent()):(d.addError(a.parent(),s),t.errors++))}},{keypress:function(r){
u("[data-field]").on("change keyup paste",function(){var t=u(this),s=t.attr("data-field");u(this).delayKeyup(function(r){
u.each(e.fields,function(r,n){var o=u('[data-field="'+r+'"]'),e=r,i=!!isset(n.required)&&n.required;e==s&&(isset(n.change)&&n.change(t),n.errors=0,
isset(n.tests)&&u.each(n.tests,function(r,e){var t=e.type,s=e.regex,a=e.message;i?d._tests(!0,t,n,a,o,s):""!=o.val()&&d._tests(!1,t,n,a,o,s)}))})},r)
})},test:function(){u.each(e.fields,function(r,a){var n=u('[data-field="'+r+'"]'),o=!!isset(a.required)&&a.required;a.errors=0,
isset(a.tests)&&u.each(a.tests,function(r,e){var t=e.type,s=e.message
;o?"null"!=t?d._tests(!0,"null",a,"This field is required",n):d._tests(!0,t,a,s,n):""!=n.val()&&d._tests(!1,t,a,s,n)})})},errors:function(){var t=0
;return u.each(e.fields,function(r,e){t+=e.errors}),t}}},u.fn.formValid.defaults={fields:{}},u.fn.delayKeyup=function(r,e){var t=0,s=u(this)
;return u(this).keyup(function(){clearTimeout(t),t=setTimeout(function(){r(s)},e)}),u(this)}}(jQuery);